# 资产转移实验
## 1个父链,2个子链(每个子链有一个叶子节点,共2个节点;叶子节点负责挖矿和发送交易)
cd /home/zc/20230203-treechain_expermiment/transfer-2leaf/test_file

1. 多链结构建立
1.1 启动w1_init.sh
1.2 w11,w12添加父节点:复制w1的enode,替换w11_addPeer.js和w12_addPeer.js中的enode
1.3 启动和设定branchnode:w11_init.sh
1.4 启动和设定branchnode:w12_init.sh
1.5 添加成功后,w11和w12会收到branchnode同步成功标志,在w1收到子链branchnode同步成功后,可以开始普通交易和挖矿
2. 叶子节点开始挖矿
//2.1 geth_w11启动挖矿
miner.start(1)
//2.2 geth_w12启动挖矿
miner.start(1)
3. 启动分支节点监督流程
node branchnode.js
4. 启动资产转移流程
node transfer_test.js
//这里分为3步
4.1 init_tx(),给账户赋初值
4.2 trans_tx_w11tow12(),w11转移至w12
4.3 trans_tx_w12tow11(),w12转移至w11

通过两个子链间循环转移实现转移次数的要求

5. 存在问题
 1. branchnode读文件问题,读到某个位置后会从头读,需要完善
 2. transfer_test.js中,目前需要手动选择,如果能够设定顺序执行,可以一起完成

